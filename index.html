<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>ModularAES: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ModularAES
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">ModularAES Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/cjhdev/moda">![Build Status](https://travis-ci.org/cjhdev/moda.svg?branch=master)</a></p>
<p>An easy to integrate AES implementation for resource constrained targets.</p>
<p>Includes:</p>
<ul>
<li>Source linted to MISRA 2012</li>
<li>Embedded interface documentation</li>
<li>Compile time options for porting</li>
<li>Portable unit tests</li>
</ul>
<h2>Modules</h2>
<ul>
<li>AES<ul>
<li>byte oriented (512B of tables)</li>
<li>support for 128, 196 and 256 bit keys</li>
</ul>
</li>
<li>AES GCM<ul>
<li>depends on AES</li>
<li>table-less</li>
<li>vector operations optimised for target word size</li>
<li>single pass mode only</li>
</ul>
</li>
<li>AES WRAP<ul>
<li>depends on AES</li>
<li>RFC 3394:2002</li>
</ul>
</li>
<li>AES CMAC<ul>
<li>depends on AES</li>
<li>vector operations optimised for target word size</li>
<li>NIST SP 800-38B</li>
<li>single pass mode only</li>
</ul>
</li>
</ul>
<h2>Build Profiles</h2>
<h3>build/pclint</h3>
<ul>
<li>generates lint-nt toolchain configuration</li>
<li>runs lint-nt over the source</li>
<li>checks against MISRA 2012 rules</li>
</ul>
<h3>build/unit_test</h3>
<ul>
<li>compiles a binary for each test file found in test/unit_test</li>
<li>depends on Unity and Ruby</li>
<li>uses gcov for test coverage report</li>
</ul>
<h3>build/doxygen</h3>
<ul>
<li>generates doxygen output from include</li>
</ul>
<h3>build/size</h3>
<ul>
<li>compiles objects for (gcc) avr, msp430, and arm then gets the size of the unlinked binaries</li>
<li>useful to for getting an idea of memory requirements</li>
</ul>
<h2>Build Time Options</h2>
<div class="fragment"><div class="line"><span class="comment">// define to remove assert.h (as per usual)</span></div>
<div class="line">-DNDEBUG</div>
<div class="line"></div>
<div class="line"><span class="comment">// define to set target endian as little endian</span></div>
<div class="line"><span class="comment">// default: undefined (not relevant if MODA_WORD_SIZE == 1)</span></div>
<div class="line">-DMODA_LITTLE_ENDIAN</div>
<div class="line"></div>
<div class="line"><span class="comment">// define to set target word size {1, 2, 4 or 8}</span></div>
<div class="line"><span class="comment">// default: 1</span></div>
<div class="line">-DMODA_WORD_SIZE=4</div>
<div class="line"></div>
<div class="line"><span class="comment">// define to apply compiler specific restrict attribute</span></div>
<div class="line"><span class="comment">// default: undefined</span></div>
<div class="line">-DMODA_RESTRICT=__restrict__</div>
<div class="line"></div>
<div class="line"><span class="comment">// include settings for putting constant data into program memory for avr gcc</span></div>
<div class="line"><span class="comment">// default: undefined</span></div>
<div class="line">-DMODA_AVR_GCC_PROGMEM</div>
<div class="line"></div>
<div class="line"><span class="comment">// define to apply target specific attribute after sbox, rsbox and rcon constants</span></div>
<div class="line"><span class="comment">// default: undefined</span></div>
<div class="line">-DMODA_CONST_POST=PROGMEM</div>
<div class="line"></div>
<div class="line"><span class="comment">// define to apply target specific attribute before sbox, rsbox and rcon constants</span></div>
<div class="line"><span class="comment">// default: undefined</span></div>
<div class="line">-D<span class="stringliteral">&#39;MODA_CONST_PRE=__flash&#39;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// define an alternate instruction to use to access rsbox constant</span></div>
<div class="line"><span class="comment">// default: rsbox[C]</span></div>
<div class="line">-D<span class="stringliteral">&#39;RSBOX(C)=pgm_read_byte(&amp;rsbox[C])&#39;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// define an alternate instruction to use to access sbox constant</span></div>
<div class="line"><span class="comment">// default: sbox[C]</span></div>
<div class="line">-D<span class="stringliteral">&#39;SBOX(C)=pgm_read_byte(&amp;sbox[C])&#39;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// define an alternate instruction to use to access rcon constant</span></div>
<div class="line"><span class="comment">// default: rcon[C]</span></div>
<div class="line">-D<span class="stringliteral">&#39;RCON(C)=pgm_read_byte(&amp;rcon[C])&#39;</span></div>
</div><!-- fragment --><p>See "moda_port.h" for more details.</p>
<h2>Object Size Indication</h2>
<p>Will it fit?</p>
<p>These are typical object sizes from the build/size profile:</p>
<h3>AVR</h3>
<div class="fragment"><div class="line">avr-gcc -Os -Wall -pedantic -std=c99 -I../../include -I../../tools/unity/src -DMODA_RESTRICT=__restrict__ -mmcu=atmega328p -DNDEBUG -DMODA_AVR_GCC_PROGMEM -DMODA_LITTLE_ENDIAN -c ../../src/aes.c -o build/aes.o</div>
<div class="line">avr-gcc -Os -Wall -pedantic -std=c99 -I../../include -I../../tools/unity/src -DMODA_RESTRICT=__restrict__ -mmcu=atmega328p -DNDEBUG -DMODA_AVR_GCC_PROGMEM -DMODA_LITTLE_ENDIAN -c ../../src/aes_gcm.c -o build/aes_gcm.o</div>
<div class="line">avr-gcc -Os -Wall -pedantic -std=c99 -I../../include -I../../tools/unity/src -DMODA_RESTRICT=__restrict__ -mmcu=atmega328p -DNDEBUG -DMODA_AVR_GCC_PROGMEM -DMODA_LITTLE_ENDIAN -c ../../src/aes_wrap.c -o build/aes_wrap.o</div>
<div class="line">avr-gcc -Os -Wall -pedantic -std=c99 -I../../include -I../../tools/unity/src -DMODA_RESTRICT=__restrict__ -mmcu=atmega328p -DNDEBUG -DMODA_AVR_GCC_PROGMEM -DMODA_LITTLE_ENDIAN -c ../../src/aes_cmac.c -o build/aes_cmac.o</div>
<div class="line">size build/aes.o build/aes_gcm.o build/aes_wrap.o build/aes_cmac.o</div>
<div class="line">   text    data     bss     dec     hex filename</div>
<div class="line">   2701       0       0    2701     a8d build/aes.o</div>
<div class="line">   2000       0       0    2000     7d0 build/aes_gcm.o</div>
<div class="line">    686       0       0     686     2ae build/aes_wrap.o</div>
<div class="line">    914       0       0     914     392 build/aes_cmac.o</div>
</div><!-- fragment --><h3>MSP430</h3>
<div class="fragment"><div class="line">msp430-gcc -Os -Wall -pedantic -std=c99 -I../../include -I../../tools/unity/src -DMODA_RESTRICT=__restrict__ -DNDEBUG -D<span class="stringliteral">&#39;MODA_WORD_SIZE=2&#39;</span> -c ../../src/aes.c -o build/aes.o</div>
<div class="line">msp430-gcc -Os -Wall -pedantic -std=c99 -I../../include -I../../tools/unity/src -DMODA_RESTRICT=__restrict__ -DNDEBUG -D<span class="stringliteral">&#39;MODA_WORD_SIZE=2&#39;</span> -c ../../src/aes_gcm.c -o build/aes_gcm.o</div>
<div class="line">msp430-gcc -Os -Wall -pedantic -std=c99 -I../../include -I../../tools/unity/src -DMODA_RESTRICT=__restrict__ -DNDEBUG -D<span class="stringliteral">&#39;MODA_WORD_SIZE=2&#39;</span> -c ../../src/aes_wrap.c -o build/aes_wrap.o</div>
<div class="line">msp430-gcc -Os -Wall -pedantic -std=c99 -I../../include -I../../tools/unity/src -DMODA_RESTRICT=__restrict__ -DNDEBUG -D<span class="stringliteral">&#39;MODA_WORD_SIZE=2&#39;</span> -c ../../src/aes_cmac.c -o build/aes_cmac.o</div>
<div class="line">size build/aes.o build/aes_gcm.o build/aes_wrap.o build/aes_cmac.o</div>
<div class="line">   text    data     bss     dec     hex filename</div>
<div class="line">   2065       0       0    2065     811 build/aes.o</div>
<div class="line">   1648       0       0    1648     670 build/aes_gcm.o</div>
<div class="line">    468       0       0     468     1d4 build/aes_wrap.o</div>
<div class="line">    566       0       0     566     236 build/aes_cmac.o</div>
</div><!-- fragment --><h3>ARM</h3>
<div class="fragment"><div class="line">arm-none-eabi-gcc -Os -Wall -pedantic -std=c99 -I../../include -I../../tools/unity/src -DMODA_RESTRICT=__restrict__ -DNDEBUG -D<span class="stringliteral">&#39;MODA_WORD_SIZE=4&#39;</span> -DMODA_LITTLE_ENDIAN -c ../../src/aes.c -o build/aes.o</div>
<div class="line">arm-none-eabi-gcc -Os -Wall -pedantic -std=c99 -I../../include -I../../tools/unity/src -DMODA_RESTRICT=__restrict__ -DNDEBUG -D<span class="stringliteral">&#39;MODA_WORD_SIZE=4&#39;</span> -DMODA_LITTLE_ENDIAN -c ../../src/aes_gcm.c -o build/aes_gcm.o</div>
<div class="line">arm-none-eabi-gcc -Os -Wall -pedantic -std=c99 -I../../include -I../../tools/unity/src -DMODA_RESTRICT=__restrict__ -DNDEBUG -D<span class="stringliteral">&#39;MODA_WORD_SIZE=4&#39;</span> -DMODA_LITTLE_ENDIAN -c ../../src/aes_wrap.c -o build/aes_wrap.o</div>
<div class="line">arm-none-eabi-gcc -Os -Wall -pedantic -std=c99 -I../../include -I../../tools/unity/src -DMODA_RESTRICT=__restrict__ -DNDEBUG -D<span class="stringliteral">&#39;MODA_WORD_SIZE=4&#39;</span> -DMODA_LITTLE_ENDIAN -c ../../src/aes_cmac.c -o build/aes_cmac.o</div>
<div class="line">size build/aes.o build/aes_gcm.o build/aes_wrap.o build/aes_cmac.o</div>
<div class="line">   text    data     bss     dec     hex filename</div>
<div class="line">   2559       0       0    2559     9ff build/aes.o</div>
<div class="line">   1504       0       0    1504     5e0 build/aes_gcm.o</div>
<div class="line">    628       0       0     628     274 build/aes_wrap.o</div>
<div class="line">    592       0       0     592     250 build/aes_cmac.o</div>
</div><!-- fragment --><h3>ARM (THUMB)</h3>
<div class="fragment"><div class="line">arm-none-eabi-gcc -Os -Wall -pedantic -std=c99 -I../../include -I../../tools/unity/src -DMODA_RESTRICT=__restrict__ -DNDEBUG -D<span class="stringliteral">&#39;MODA_WORD_SIZE=4&#39;</span> -mthumb -DMODA_LITTLE_ENDIAN -c ../../src/aes.c -o build/aes.o</div>
<div class="line">arm-none-eabi-gcc -Os -Wall -pedantic -std=c99 -I../../include -I../../tools/unity/src -DMODA_RESTRICT=__restrict__ -DNDEBUG -D<span class="stringliteral">&#39;MODA_WORD_SIZE=4&#39;</span> -mthumb -DMODA_LITTLE_ENDIAN -c ../../src/aes_gcm.c -o build/aes_gcm.o</div>
<div class="line">arm-none-eabi-gcc -Os -Wall -pedantic -std=c99 -I../../include -I../../tools/unity/src -DMODA_RESTRICT=__restrict__ -DNDEBUG -D<span class="stringliteral">&#39;MODA_WORD_SIZE=4&#39;</span> -mthumb -DMODA_LITTLE_ENDIAN -c ../../src/aes_wrap.c -o build/aes_wrap.o</div>
<div class="line">arm-none-eabi-gcc -Os -Wall -pedantic -std=c99 -I../../include -I../../tools/unity/src -DMODA_RESTRICT=__restrict__ -DNDEBUG -D<span class="stringliteral">&#39;MODA_WORD_SIZE=4&#39;</span> -mthumb -DMODA_LITTLE_ENDIAN -c ../../src/aes_cmac.c -o build/aes_cmac.o</div>
<div class="line">size build/aes.o build/aes_gcm.o build/aes_wrap.o build/aes_cmac.o</div>
<div class="line">   text    data     bss     dec     hex filename</div>
<div class="line">   1923       0       0    1923     783 build/aes.o</div>
<div class="line">    972       0       0     972     3cc build/aes_gcm.o</div>
<div class="line">    392       0       0     392     188 build/aes_wrap.o</div>
<div class="line">    400       0       0     400     190 build/aes_cmac.o</div>
</div><!-- fragment --><h2>Recommended Further Reading</h2>
<p><a href="https://en.wikipedia.org/wiki/Side-channel_attack">https://en.wikipedia.org/wiki/Side-channel_attack</a></p>
<h2>License</h2>
<p>MIT license. See terms and conditions in each source file.</p>
<p>Copyright Cameron Harper 2013-2016</p>
<p><a href="#" onclick="location.href='mai'+'lto:'+'cam'+'@c'+'jh.'+'id'+'.au'; return false;">cam@c<span style="display: none;">.nosp@m.</span>jh.i<span style="display: none;">.nosp@m.</span>d.au</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer"><a href="http://cjh.id.au">cjh.id.au</a></li>
  </ul>
</div>
</body>
</html>
